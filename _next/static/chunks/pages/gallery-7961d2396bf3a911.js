(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[214],{60:function(e,n,r){"use strict";r.r(n),r.d(n,{__N_SSG:function(){return v},default:function(){return g}});var t=r(7294),i=r(9008),o=r.n(i),l=r(2846),u=r(1057),a=r(6447),s=r(5861),c=r(8259),d=r(7713),f=r(5158),h=r(7918),x=r(4564),m=r(5893);function w(e){var n=e.tags,r=(0,t.useState)(null),i=r[0],o=r[1],l=(0,t.useState)(""),u=l[0],a=l[1],c=function(){o(null)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(x.ZP,{open:!!i,anchorEl:i,disableRestoreFocus:!0,sx:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,m.jsx)(s.Z,{sx:{p:2},children:u})}),n.map(function(e){return(0,m.jsx)(h.Z,{onMouseEnter:function(n){a(e.type),o(n.currentTarget)},onMouseLeave:c,sx:{m:.3},label:e.name},e.type+"##"+e.name)})]})}var j=function(e){var n=e.url,r=(0,t.useState)(!1),i=r[0],o=r[1];return i?(0,m.jsx)("img",{alt:"",src:n,style:{width:"100%"}}):(0,m.jsx)(u.Z,{onClick:function(){return o(!0)},children:"显示"})},p=[{field:"url",headerName:"预览",minWidth:350,flex:1,renderCell:function(e){return(0,m.jsx)(j,{url:e.row.url})}},{field:"name",headerName:"名称",minWidth:350,flex:1,renderCell:function(e){return(0,m.jsx)("div",{children:e.row.name})}},{field:"description",headerName:"描述",minWidth:150,flex:1,renderCell:function(e){return(0,m.jsx)("div",{children:e.row.description})}},{field:"source",headerName:"来源",flex:1,renderCell:function(e){return(0,m.jsx)("div",{children:e.row.source})}},{field:"dates",headerName:"时间",minWidth:150,flex:1,valueGetter:function(e){return e.row.year?[e.row.year||"----",(0,f.oD)(e.row.month,"--"),(0,f.oD)(e.row.day,"--")].filter(function(e){return e}).join("/"):"----/--/--"},renderCell:function(e){return(0,m.jsx)(a.Z,{spacing:1,children:(0,m.jsx)(s.Z,{variant:"caption",children:e.row.year?[e.row.year,(0,f.oD)(e.row.month),(0,f.oD)(e.row.day)].filter(function(e){return e}).join("/"):"----/--/--"})})}},{field:"tags",headerName:"标签",minWidth:150,flex:1,sortComparator:function(e,n){return e>n?1:-1},valueGetter:function(e){return e.row.tags.map(function(e){return e.name}).join(",")},renderCell:function(e){return(0,m.jsx)("div",{style:{overflow:"visible"},children:(0,m.jsx)(w,{tags:e.row.tags})})}}],v=!0;function g(e){var n=e.gallery;return(0,m.jsxs)(a.Z,{p:2,sx:{height:"100%",overflow:"scroll"},children:[(0,m.jsx)(o(),{children:(0,m.jsx)("title",{children:"和谐历史档案馆 Banned Historical Archives"})}),(0,m.jsx)(s.Z,{variant:"h4",sx:{mb:1},children:"图库"}),(0,m.jsx)(a.Z,{sx:{flex:1,width:"100%"},children:(0,m.jsx)(c.s,{getRowId:function(e){return e.id},localeText:d.U.components.MuiDataGrid.defaultProps.localeText,getRowHeight:function(){return"auto"},rows:n,columns:p,pageSize:100,rowsPerPageOptions:[100],disableSelectionOnClick:!0})})]})}g.getLayout=function(e){return(0,m.jsx)(l.Z,{children:e})}},8084:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return r(60)}])}},function(e){e.O(0,[714,738,771,386,916,27,120,379,335,774,888,179],function(){return e(e.s=8084)}),_N_E=e.O()}]);