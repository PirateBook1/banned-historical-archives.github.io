"use strict";(()=>{var e={};e.id=214,e.ids=[214,660],e.modules={8395:(e,r,t)=>{t.d(r,{Z:()=>p});var i=t(8369),a=t.n(i),s=t(7163),o=t.n(s),l=t(6689),n=t(5768),u=t.n(n),m=t(997);function p({tags:e}){let{0:r,1:t}=(0,l.useState)(null),{0:i,1:s}=(0,l.useState)(""),n=()=>{t(null)};return(0,m.jsxs)(m.Fragment,{children:[m.jsx(u(),{open:!!r,anchorEl:r,disableRestoreFocus:!0,sx:{pointerEvents:"none"},anchorOrigin:{vertical:"bottom",horizontal:"center"},children:m.jsx(o(),{sx:{p:2},children:i})}),e.map(e=>m.jsx(a(),{onMouseEnter:r=>{s(e.type),t(r.currentTarget)},onMouseLeave:n,sx:{m:.3},label:e.name},e.type+"##"+e.name))]})}},8823:(e,r,t)=>{t.a(e,async(e,i)=>{try{t.r(r),t.d(r,{default:()=>v,getStaticProps:()=>w});var a=t(6689),s=t(968),o=t.n(s),l=t(2846),n=t(3819),u=t.n(n),m=t(8742),p=t.n(m),d=t(7163),x=t.n(d),c=t(6898),h=t(5158),g=t(8395),q=t(4470),f=t(4822),S=t(997),j=e([h]);h=(j.then?(await j)():j)[0];let w=async e=>({props:{gallery:JSON.parse((await (0,q.readFile)((0,f.join)(process.cwd(),"./gallery_indexes.json"))).toString())}}),P=({url:e})=>{let{0:r,1:t}=(0,a.useState)(!1);return r?S.jsx("img",{alt:"",src:e,style:{width:"100%"}}):S.jsx(u(),{onClick:()=>t(!0),children:"显示"})},y=[{field:"url",headerName:"预览",minWidth:350,flex:1,renderCell:e=>S.jsx(P,{url:e.row.url})},{field:"name",headerName:"名称",minWidth:350,flex:1,renderCell:e=>S.jsx("div",{children:e.row.name})},{field:"description",headerName:"描述",minWidth:150,flex:1,renderCell:e=>S.jsx("div",{children:e.row.description})},{field:"source",headerName:"来源",flex:1,renderCell:e=>S.jsx("div",{children:e.row.source})},{field:"dates",headerName:"时间",minWidth:150,flex:1,valueGetter:e=>e.row.year?[e.row.year||"----",(0,h.oD)(e.row.month,"--"),(0,h.oD)(e.row.day,"--")].filter(e=>e).join("/"):"----/--/--",renderCell:e=>S.jsx(p(),{spacing:1,children:S.jsx(x(),{variant:"caption",children:e.row.year?[e.row.year,(0,h.oD)(e.row.month),(0,h.oD)(e.row.day)].filter(e=>e).join("/"):"----/--/--"})})},{field:"tags",headerName:"标签",minWidth:150,flex:1,sortComparator:(e,r)=>e>r?1:-1,valueGetter:e=>e.row.tags.map(e=>e.name).join(","),renderCell:e=>S.jsx("div",{style:{overflow:"visible"},children:S.jsx(g.Z,{tags:e.row.tags})})}];function v({gallery:e}){return(0,S.jsxs)(p(),{p:2,sx:{height:"100%",overflow:"scroll"},children:[S.jsx(o(),{children:S.jsx("title",{children:"和谐历史档案馆 Banned Historical Archives"})}),S.jsx(x(),{variant:"h4",sx:{mb:1},children:"图库"}),S.jsx(p(),{sx:{flex:1,width:"100%"},children:S.jsx(c.DataGridPro,{getRowId:e=>e.id,localeText:c.zhCN.components.MuiDataGrid.defaultProps.localeText,getRowHeight:()=>"auto",rows:e,columns:y,pageSize:100,rowsPerPageOptions:[100],disableSelectionOnClick:!0})})]})}v.getLayout=e=>S.jsx(l.Z,{children:e}),i()}catch(e){i(e)}})},3774:(e,r,t)=>{t.a(e,async(e,i)=>{try{t.r(r),t.d(r,{config:()=>g,default:()=>d,getServerSideProps:()=>h,getStaticPaths:()=>c,getStaticProps:()=>x,reportWebVitals:()=>q,routeModule:()=>P,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>f});var a=t(7093),s=t(5244),o=t(1323),l=t(1445),n=t.n(l),u=t(1562),m=t(8823),p=e([m]);m=(p.then?(await p)():p)[0];let d=(0,o.l)(m,"default"),x=(0,o.l)(m,"getStaticProps"),c=(0,o.l)(m,"getStaticPaths"),h=(0,o.l)(m,"getServerSideProps"),g=(0,o.l)(m,"config"),q=(0,o.l)(m,"reportWebVitals"),f=(0,o.l)(m,"unstable_getStaticProps"),S=(0,o.l)(m,"unstable_getStaticPaths"),j=(0,o.l)(m,"unstable_getStaticParams"),v=(0,o.l)(m,"unstable_getServerProps"),w=(0,o.l)(m,"unstable_getServerSideProps"),P=new a.PagesRouteModule({definition:{kind:s.x.PAGES,page:"/gallery",pathname:"/gallery",bundlePath:"",filename:""},components:{App:u.default,Document:n()},userland:m});i()}catch(e){i(e)}})},1914:e=>{e.exports=require("@mui/icons-material/Block")},9254:e=>{e.exports=require("@mui/icons-material/GitHub")},3365:e=>{e.exports=require("@mui/icons-material/Menu")},4789:e=>{e.exports=require("@mui/icons-material/MenuBook")},8017:e=>{e.exports=require("@mui/icons-material/Search")},3882:e=>{e.exports=require("@mui/material/AppBar")},19:e=>{e.exports=require("@mui/material/Box")},3819:e=>{e.exports=require("@mui/material/Button")},8369:e=>{e.exports=require("@mui/material/Chip")},4475:e=>{e.exports=require("@mui/material/Container")},7898:e=>{e.exports=require("@mui/material/Drawer")},7934:e=>{e.exports=require("@mui/material/IconButton")},8855:e=>{e.exports=require("@mui/material/InputBase")},4192:e=>{e.exports=require("@mui/material/List")},834:e=>{e.exports=require("@mui/material/ListItem")},1011:e=>{e.exports=require("@mui/material/ListItemButton")},8315:e=>{e.exports=require("@mui/material/ListItemText")},5768:e=>{e.exports=require("@mui/material/Popover")},441:e=>{e.exports=require("@mui/material/Skeleton")},8742:e=>{e.exports=require("@mui/material/Stack")},1431:e=>{e.exports=require("@mui/material/Toolbar")},7163:e=>{e.exports=require("@mui/material/Typography")},8442:e=>{e.exports=require("@mui/material/styles")},6898:e=>{e.exports=require("@mui/x-data-grid-pro")},8066:e=>{e.exports=require("diff-match-patch")},4470:e=>{e.exports=require("fs-extra")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},6555:e=>{e.exports=import("uuid")},6113:e=>{e.exports=require("crypto")},7147:e=>{e.exports=require("fs")},4822:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var r=require("../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[445,1,563],()=>t(3774));module.exports=i})();